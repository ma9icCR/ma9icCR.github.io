<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ma9icCR</title><meta name="description"><meta name="author" content="Ma9icCR"><meta name="copyright" content="Ma9icCR"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://ma9iccr.github.io/page/3/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="website"><meta property="og:title" content="Ma9icCR"><meta property="og:url" content="https://ma9iccr.github.io/page/3/"><meta property="og:site_name" content="Ma9icCR"><meta property="og:description"><meta property="og:image" content="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/avatar.png"><meta property="article:published_time" content="2023-12-16T03:27:53.626Z"><meta property="article:modified_time" content="2023-12-16T03:27:53.626Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isSidebar: false,
  postUpdate: '2023-12-16 11:27:53'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">34</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page" href="/images/"><i class="fa-fw fas fa-image"></i><span> Image</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/navigate/"><i class="fa-fw fas fa-navigate"></i><span> Navigate</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/IuWi8QbHvzjlOPw.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Ma9icCR</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page" href="/images/"><i class="fa-fw fas fa-image"></i><span> Image</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/navigate/"><i class="fa-fw fas fa-navigate"></i><span> Navigate</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site_title">Ma9icCR</h1><div id="site_subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/ma9iccr" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ma9iccr@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll_down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021-06/Black-Hat-Python-2nd-3/" title="Black Hat Python 2nd 3">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/BHP2nd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Black Hat Python 2nd 3"></a></div><div class="recent-post-info"><a class="article-title" href="/2021-06/Black-Hat-Python-2nd-3/" title="Black Hat Python 2nd 3">Black Hat Python 2nd 3</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-06-24 10:08:54"><i class="far fa-calendar-alt"></i>2021-06-24</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/books/">books</a></span></div><div class="content">编写嗅探器网络嗅探器可以让您查看在目标计算机传入和发出的数据包。因此，它们在开发利用的前后都有许多实际用途。在某些情况下，您可以使用现有的嗅探工具，如 Wireshark (https://wireshark.org/)或python解决方案，如Scapy(我们将在下一章探讨)。尽管如此，知道如何组装您自己的快速嗅探器来查看和解码网络流量也是很有好处的。
编写这样的工具还将使您对成熟的工具有一个深刻的认识，因为这些工具可以轻松地处理更精细的问题，而您只需花费很少的精力。您还可能学到一些新的Python技术，并可能更好地理解底层网络位是如何工作的。
在前一章中，我们讨论了如何使用TCP和UDP发送和接收数据。这很可能是您与大多数网络服务交互的方式。但是在这些高级协议之下才是决定网络数据包如何发送和接收的构建块。您将使用原始套接字来访问较低层的网络信息，例如原始Internet协议(IP)和Internet控制消息协议(ICMP)头。在本章中，我们不会解码任何以太网信息，但是如果您打算执行任何底层网络攻击，例如ARP毒化(ARP欺骗)，或者正在开发无线评估工具，您应该非常熟悉以太网帧及其使 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021-06/Black-Hat-Python-2nd-2/" title="Black Hat Python 2nd 2">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/BHP2nd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Black Hat Python 2nd 2"></a></div><div class="recent-post-info"><a class="article-title" href="/2021-06/Black-Hat-Python-2nd-2/" title="Black Hat Python 2nd 2">Black Hat Python 2nd 2</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-06-21 18:33:16"><i class="far fa-calendar-alt"></i>2021-06-21</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/books/">books</a></span></div><div class="content">基本网络工具网络永远是黑客最具有诱惑的舞台。通过简单的网络访问，攻击者几乎可以做任何事情，比如扫描主机、注入数据包、嗅探数据和远程控制主机。但是，如果您已经深入到企业目标的最深处，您可能会发现自己遇到了一个难题：您没有工具来实施网络攻击。没有netcat、Wireshark、没有编译器，也没办法安装。但是，您可能会惊讶地发现，在许多情况下，目标安装了Python。那我们从这里开始吧。
本章将为您提供一些使用 socket 模块的Python网络基础(完整的socket文档可以在这里找到：http://docs.python.org/3/library/socket.html。)在此过程中，我们将构建客户端、服务器端和TCP代理。然后，我们将把它们转换为我们自己的netcat，并可完成一个命令shell。本章是后续章节的基础，我们将构建一个主机探测工具，实现跨平台嗅探器，并创建一个远程木马框架。让我们开始吧。
短评Python网络程序员可以使用许多第三方工具在Python中创建联网的服务器端和客户端，但所有这些工具的核心模块都是 socket (套接字)。该模块公开了快速编写传输控制协议 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021-06/Black-Hat-Python-2nd-1/" title="Black Hat Python 2nd 1">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/BHP2nd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Black Hat Python 2nd 1"></a></div><div class="recent-post-info"><a class="article-title" href="/2021-06/Black-Hat-Python-2nd-1/" title="Black Hat Python 2nd 1">Black Hat Python 2nd 1</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-06-21 15:20:14"><i class="far fa-calendar-alt"></i>2021-06-21</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/books/">books</a></span></div><div class="content">配置你的Python环境这是本书中最无趣的部分，但也是最关键的部分，我们将在其中介绍如何设置编写和测试Python的环境。我们将学习如何设置一个Kali Linux虚拟机(VM)，为Python 3创建一个虚拟环境，并安装一个良好的集成开发环境(IDE)，以便您拥有开发代码所需的一切。在这一章结束时，你应该就准备好处理书中其余部分的练习和代码示例。
在开始之前，如果您没有VMware Player、VirtualBox或Hyper-V等虚拟化管理程序客户端(PS：虚拟机)，请下载并安装一个。我们还建议您准备好一台Windows 10虚拟机。你可以在这里得到一个评估版Windows 10 VM虚拟机: [https:/ /developer.microsoft.com/en-us/windows/downloads/virtual-machines/](https:/ /developer.microsoft.com/en-us/windows/downloads/virtual-machines/)。
安装Kali LinuxKali是BackTrack Linux发行版的继承者，是由 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021-06/Black-Hat-Python-2nd-0/" title="Black Hat Python 2nd 0">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/BHP2nd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Black Hat Python 2nd 0"></a></div><div class="recent-post-info"><a class="article-title" href="/2021-06/Black-Hat-Python-2nd-0/" title="Black Hat Python 2nd 0">Black Hat Python 2nd 0</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-06-20 17:21:43"><i class="far fa-calendar-alt"></i>2021-06-20</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/books/">books</a></span></div><div class="content">笔者最近在学习《Python黑帽子渗透测试 1st》这本书，但是在查阅的时候发现作者在今年四月已经更新了最新第二版，而且是针对Python 3的（第一版是Python 2），但国内还没有合适的翻译而且官方的售价还是有点小贵的，毕竟笔者是个无产阶级，所以打算自己学习新版的同时翻译一下新版的内容，一方面是练习一下英文翻译，另一方面分享给各位同学。前言少叙。
先看一下很多大佬对此书第一版的评价：
PRAISE FOR THE FIRST EDITION OF BLACK HAT PYTHON“这是一本令人难以置信的书，只需要通过一两项简单的调整，很多程序将至少有十年的生命期(保质期)，这对于一本安全书籍是很罕见的。”——Stephen Northcutt, SANS技术研究所的创始主席
“这是一本使用Python实现攻击性的安全目的的好书。”——Andrew Case, Volatility核心开发者和《The Art of Memory Forensics》的合著者
“如果你真的拥有一个黑客的心态，一个火种就是你需要的全部，把它变成你自己的，做一些更惊奇的事吧。Justin Seitz(作 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021-04/IDA-%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7Karta%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="IDA 辅助工具Karta简单使用教程">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/ida.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IDA 辅助工具Karta简单使用教程"></a></div><div class="recent-post-info"><a class="article-title" href="/2021-04/IDA-%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7Karta%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="IDA 辅助工具Karta简单使用教程">IDA 辅助工具Karta简单使用教程</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-04-20 14:47:06"><i class="far fa-calendar-alt"></i>2021-04-20</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/tools/">tools</a></span></div><div class="content">笔者在研究如何对目标系统，进行属性特征信息提取时，大佬指点到本工具，简单研究一下。
介绍“ Karta”是IDA的python插件，其功能是在已经编译过的二进制文件中搜索是否使用了开源的代码。该插件是为了匹配大体积二进制文件中的开放源代码库的开源代码（通常是查找固件）。对于每天处理固件的人来说，反复的执行net-snmp显然是在浪费时间。所以需要一个工具来识别二进制文件所使用的开源，并在IDA中自动匹配。
这个插件的初衷是加快匹配的过程。用几个小时去匹配一个包含300个函数的库是很低效的一件事，更何况实际工作过程中逆向的工程会远大于此，比如超过100,000个函数的体积。当然，结合逆向工程行业的一些经验教训，我们解决了这个问题，并取得了比预期更好的结果。
事实证明，出于性能原因而部署的启发式方法对匹配结果也有很大的影响。该插件产生的误报率非常低，而准确性很高。这对于匹配中小型二进制文件也很有用。
因此，我们认为Karta可以成为研究人员的重要工具。[1]
本文，仅仅是用于记录帮助第一次使用该工具，如果有后续实验进展，会写到别的文章里。
安装到该插件官方开源项目中下载源代码
这个时候我们 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021-01/hello-world/" title="Hello World">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/hello.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021-01/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-01-04 19:17:36"><i class="far fa-calendar-alt"></i>2021-01-04</time></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new "My New Post"

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy
123456789101112131415161718192021---title:date:updated:tags:categories:keywords:descripti ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020-08/TRENDnet%E5%9B%BA%E4%BB%B6%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" title="TRENDnet固件获取文件系统">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/IoT.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TRENDnet固件获取文件系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2020-08/TRENDnet%E5%9B%BA%E4%BB%B6%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" title="TRENDnet固件获取文件系统">TRENDnet固件获取文件系统</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-08-31 23:49:49"><i class="far fa-calendar-alt"></i>2020-08-31</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/IoT/">IoT</a></span></div><div class="content">先完整安装binwalk，然后用binwalk解压.bin文件
1binwalk -Me TEW827DRU_106B01.bin

得到ubi文件，这时候就有点无措了，找下ubi解包方法
http://www.gandalf.site/2019/01/iotubi.html
两种方法均尝试后发现常常遇到包安装的问题，这里记录下成功的过程：
使用ubi_reader，安装相关依赖
12345//安装依赖$ sudo apt-get install liblzo2-dev$ sudo pip install python-lzo//安装ubi_reader$ sudo pip install ubi_reader

安装python-lzo包时候注意可能需要加上--ignore-installed
同时注意Python使用版本2
ubi_reader工具提供了四个脚本：
1234ubireader_display_info   //获取UBI信息以及布局块等信息ubireader_extract_images  //提取镜像ubireader_extract_files  //提取文件内 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020-08/CVE-2019-16920%E5%AD%A6%E4%B9%A0/" title="CVE-2019-16920学习">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/bug2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CVE-2019-16920学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2020-08/CVE-2019-16920%E5%AD%A6%E4%B9%A0/" title="CVE-2019-16920学习">CVE-2019-16920学习</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-08-31 12:53:24"><i class="far fa-calendar-alt"></i>2020-08-31</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/CVE/">CVE</a></span></div><div class="content">复现D-link漏洞研究，原文链接
登录操作通过/apply_sec.cgi的URI执行，快速浏览代码可以发现apply_sec.cgi的代码位于/www/cgi/ssi二进制文件中的函数do_ssc（0x40a210）。
current_user和current_username的值取自nvram：


然后，该函数会将current_user的值和变量acStack160的值进行比较。

该current_user在NVRAM中值只有在登录成功后才会被设定，所以默认它的值是没有进行初始化设置的。acStack160的值是base64encode(user_username)的编码结果。并且默认情况下user_username设置的值为“user”，所以iVar2（strcmp比较结果）不可能返回值0，因此不会返回error.asp页面。
在do-while循环中，这个程序调用了函数put_querystring_env()来解析HTTP POST请求并且保存了值到ENV当中。接下来函数调用了query_vars(“action”, acStack288, 0x80)。（这里是怎么认 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020-08/%E6%96%B0Ubuntu%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8C%87%E5%8D%97/" title="新Ubuntu初始化指南">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/ubuntu.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="新Ubuntu初始化指南"></a></div><div class="recent-post-info"><a class="article-title" href="/2020-08/%E6%96%B0Ubuntu%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8C%87%E5%8D%97/" title="新Ubuntu初始化指南">新Ubuntu初始化指南</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-08-25 20:45:26"><i class="far fa-calendar-alt"></i>2020-08-25</time></div><div class="content">写一下新搭建的Ubuntu需要注意的地方，和一些初始化设置、环境搭建等。后续可以回看复现。

1、注意可以选择后安装操作系统，简易安装跳过了很多步骤，而且可以选择中文安装过程和系统语言2、安装VMtools(主系统除外)
3、使su指令可用1sudo passwd

4、修改软件源。使用国内源加快后续下载安装的速度。
5、安装新的主题
首先要安装unity tweak tool，待会要通过这个工具来修改主题和图标。

1sudo apt-get install unity-tweak-tool


安装Flatabulous主题

Github地址：https://github.com/anmoljagetia/Flatabulous
1sudo apt-get install unity-tweak-tool


安装过程及指令可以参照上述的github的readme
下载运行后：
123sudo add-apt-repository ppa:noobslab/themessudo apt-get updatesudo apt-get install flatabulous-them ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020-08/%E5%A4%8D%E7%8E%B0CVE-2017-17215%EF%BC%8C%E8%A7%A3%E5%86%B3%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98/" title="复现CVE-2017-17215，解决连接问题">     <img class="post_bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/bug.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="复现CVE-2017-17215，解决连接问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020-08/%E5%A4%8D%E7%8E%B0CVE-2017-17215%EF%BC%8C%E8%A7%A3%E5%86%B3%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98/" title="复现CVE-2017-17215，解决连接问题">复现CVE-2017-17215，解决连接问题</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-08-09 09:21:38"><i class="far fa-calendar-alt"></i>2020-08-09</time></div><div class="content">一、基本信息：定制版的华为HG532具有远程执行代码漏洞。 经过身份验证的攻击者可以将恶意数据包发送到端口37215，以发起攻击。 成功的利用可能导致远程执行任意代码。该漏洞payload由蜜罐所捕获发现。利用原理是利用upnp服务中的注入漏洞实现任意命令执行。
二、配置复现环境：1. 安装qemu123sudo apt-get install qemu sudo apt-get install qemu-user-staticsudo apt-get install qemu-system

2. 网络配置安装网络配置工具：
1apt-get install bridge-utils uml-utilities

修改 ubuntu主机网络配置，将ubuntu主机系统中的网络接口配置文件 /etc/network/interfaces 修改为如下内容：
创建QEMU的网络接口启动脚本（/etc/qemu-ifup）并保存为如下内容：

启动桥接网络        赋予可执行权限
1sudo chmod a+x &#x2F;etc&#x2F;qemu-ifup

重启网络服务，使配置生 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Ma9icCR</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives"><div class="headline">文章</div><div class="length_num">34</div></a></div><div class="card-info-data-item is-center">      <a href="/tags"><div class="headline">标签</div><div class="length_num">11</div></a></div><div class="card-info-data-item is-center">     <a href="/categories"><div class="headline">分类</div><div class="length_num">8</div></a></div></div><div class="card-info-bookmark is-center"><button class="button--animated" id="bookmark-it" type="button" title="加入书签"><i class="fas fa-bookmark"></i><span>加入书签</span></button></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ma9iccr" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ma9iccr@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-recent-item"><div class="aside-recent-post"><a href="/2023-05/%E9%98%85%E8%AF%BB%E7%AE%80%E8%AE%B0/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/read.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="阅读简记" alt="阅读简记"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2023-05/%E9%98%85%E8%AF%BB%E7%AE%80%E8%AE%B0/" title="阅读简记">阅读简记</div><time class="aside-post_meta post-meta__date" title="发表于 2023-05-06 22:13:13">2023-05-06</time></div></a></div><div class="aside-recent-post"><a href="/2022-07/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E5%88%B0%E6%94%BE%E5%BC%83/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/OIP-C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="C语言学习到放弃" alt="C语言学习到放弃"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2022-07/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E5%88%B0%E6%94%BE%E5%BC%83/" title="C语言学习到放弃">C语言学习到放弃</div><time class="aside-post_meta post-meta__date" title="发表于 2022-07-21 08:26:41">2022-07-21</time></div></a></div><div class="aside-recent-post"><a href="/2022-05/pwn%E9%A2%98%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%92%8C%E9%9D%B6%E6%9C%BA%E4%B8%80%E6%A0%B7%E7%9A%84%E7%8E%AF%E5%A2%83/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/pwn.png" onerror="this.onerror=null;this.src='/img/404.jpg'" title="pwn题如何配置和靶机一样的环境" alt="pwn题如何配置和靶机一样的环境"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2022-05/pwn%E9%A2%98%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%92%8C%E9%9D%B6%E6%9C%BA%E4%B8%80%E6%A0%B7%E7%9A%84%E7%8E%AF%E5%A2%83/" title="pwn题如何配置和靶机一样的环境">pwn题如何配置和靶机一样的环境</div><time class="aside-post_meta post-meta__date" title="发表于 2022-05-27 08:33:18">2022-05-27</time></div></a></div><div class="aside-recent-post"><a href="/2022-05/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%9A%84pwn%E9%A2%98%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/pwn.png" onerror="this.onerror=null;this.src='/img/404.jpg'" title="从0开始的pwn题环境配置" alt="从0开始的pwn题环境配置"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2022-05/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%9A%84pwn%E9%A2%98%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="从0开始的pwn题环境配置">从0开始的pwn题环境配置</div><time class="aside-post_meta post-meta__date" title="发表于 2022-05-27 08:15:17">2022-05-27</time></div></a></div><div class="aside-recent-post"><a href="/2022-04/KeepTrying/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://ma9ic-image.obs.cn-north-4.myhuaweicloud.com/images/fighting.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="KeepTrying" alt="KeepTrying"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2022-04/KeepTrying/" title="KeepTrying">KeepTrying</div><time class="aside-post_meta post-meta__date" title="发表于 2022-04-25 16:41:31">2022-04-25</time></div></a></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CVE/"><span class="card-category-list-name">CVE</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/IoT/"><span class="card-category-list-name">IoT</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Read/"><span class="card-category-list-name">Read</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/books/"><span class="card-category-list-name">books</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/learning/"><span class="card-category-list-name">learning</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/programing/"><span class="card-category-list-name">programing</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/pwn/"><span class="card-category-list-name">pwn</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/tools/"><span class="card-category-list-name">tools</span><span class="card-category-list-count">2</span></a></li>
                       
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Black-Hat-Python-2nd/" style="font-size: 22px; color: #99a9bf">Black_Hat_Python_2nd</a> <a href="/tags/CVE/" style="font-size: 17.5px; color: #999da3">CVE</a> <a href="/tags/IoT/" style="font-size: 16px; color: #999">IoT</a> <a href="/tags/Linux/" style="font-size: 19px; color: #99a1ac">Linux</a> <a href="/tags/MyDaily/" style="font-size: 16px; color: #999">MyDaily</a> <a href="/tags/Read/" style="font-size: 16px; color: #999">Read</a> <a href="/tags/Windows/" style="font-size: 16px; color: #999">Windows</a> <a href="/tags/learning/" style="font-size: 16px; color: #999">learning</a> <a href="/tags/programing/" style="font-size: 16px; color: #999">programing</a> <a href="/tags/pwn/" style="font-size: 20.5px; color: #99a5b6">pwn</a> <a href="/tags/tools/" style="font-size: 19px; color: #99a1ac">tools</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">Ju2023/5/62023 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">Ju2022/7/212022 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">Ju2022/5/272022 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">Ju2022/4/252022 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">Ju2022/3/282022 2020</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">Ju2021/7/232021 2020</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">Ju2021/6/282021 2020</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">Ju2021/4/202021 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="webinfo-article-name">文章数目 :</div><div class="webinfo-article-count">34</div></div><div class="webinfo-item"><div class="webinfo-runtime-name">已运行时间 :</div><div class="webinfo-runtime-count" id="webinfo-runtime-count" publish_date="07/09/2020 00:00:00">     </div></div><div class="webinfo-item">      <div class="webinfo-site-uv-name">本站访客数 :</div><div class="webinfo-site-uv-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="webinfo-site-name">本站总访问量 :</div><div class="webinfo-site-pv-count" id="busuanzi_value_site_pv"></div></div></div></div></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Ma9icCR</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="https://cdn.jsdelivr.net/npm/typed.js"></script><script>var subtitleType = function () {
  loadScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js',function () {
      var subtitleEffect = true
      jinrishici.load(function (result) {
        if (subtitleEffect) {
          var sub = "今日事，今日毕,记录生活，记录成长,要学会沟通的艺术,Keep trying，never give up!,Never put off till tomorrow what you can do today".length == 0 ? new Array() : "今日事，今日毕,记录生活，记录成长,要学会沟通的艺术,Keep trying，never give up!,Never put off till tomorrow what you can do today".split(',')
          var content = result.data.content
          var both = sub.unshift(content)
          var typed = new Typed('#subtitle', {
            strings: sub,
            startDelay: 300,
            typeSpeed: 150,
            loop: true,
            backSpeed: 50,
          })
        } else {
          document.getElementById('subtitle').innerHTML = result.data.content
        }
      })
    }
  )
}
window.addEventListener('load', subtitleType)
</script></body></html>